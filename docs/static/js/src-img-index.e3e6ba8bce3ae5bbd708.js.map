{"version":3,"sources":["D:/zouwendi/01projectFiles/teaness/src/Img/index.mdx","D:/zouwendi/01projectFiles/teaness/src/Img/index.tsx","D:/zouwendi/01projectFiles/teaness/src/hooks/index.ts"],"names":["layoutProps","MDXLayout","MDXContent","components","props","mdxType","__position","__code","__scope","this","Playground","Props","Img","__codesandbox","src","style","width","of","isMDXComponent","useEffectState","backupSrc","setSrc","className","alt","onError","defaultProps","deps","useState","state","setState","useEffect","useEffectExcludeFirst","effect","count","useRef","current"],"mappings":"kbAaMA,EAAc,GAGdC,EAAY,UACH,SAASC,EAAT,GAGX,IAFFC,EAEC,EAFDA,WACGC,EACF,8BACD,OAAO,YAACH,EAAD,iBAAeD,EAAiBI,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAE5E,iBAAQ,CACN,GAAM,mBADR,qBAGA,4IACA,iBAAQ,CACN,GAAM,uCADR,yCAGA,YAAC,aAAD,CAAYC,WAAY,EAAGC,OAAQ,+DAAkEC,QAAS,CAC5GJ,MAAOK,KAAOA,KAAKL,MAAQA,EAC3BM,wBACAC,cACAC,SACCC,cAAa,YAAeR,QAAQ,cACzC,YAAC,IAAD,CAAKS,IAAI,WAAWC,MAAO,CACrBC,MAAO,IACNX,QAAQ,SAEb,iBAAQ,CACN,GAAM,0BADR,4BAGA,YAAC,QAAD,CAAOY,GAAIL,IAAKP,QAAQ,W,yKAK5BH,EAAWgB,gBAAiB,G,gdC/B5B,IAAMN,EAA0B,SAAAR,GAAU,IAAD,EACjBe,YAAef,EAAMU,KAAOV,EAAMgB,UAAW,CACjEhB,EAAMU,MAF+B,mBAChCA,EADgC,KAC3BO,EAD2B,KAIvC,OACE,yBACEC,UAAWlB,EAAMkB,UACjBP,MAAOX,EAAMW,MACbQ,IAAKnB,EAAMmB,IACXT,IAAKA,EACLU,QAAS,kBAAMH,EAAOjB,EAAMgB,eAIlCR,EAAIa,aAAe,CACjBL,UACE,0mBAEWR,M,0aCzBR,SAASO,EACdf,EACAsB,GACmC,IAAD,EACRC,mBAASvB,GADD,mBAC3BwB,EAD2B,KACpBC,EADoB,KAKlC,OAHAC,qBAAU,WACRD,EAASzB,KACRsB,GACI,CAACE,EAAOC,GAGV,SAASE,EACdC,EACAN,GAEA,IAAMO,EAAQC,iBAAO,GACrB,OAAOJ,qBAAU,WACf,GAAKG,EAAME,QAEJ,OAAOH,IADZC,EAAME,SAAW,IAElBT,G","file":"static/js/src-img-index.79c4ee89.js","sourcesContent":["\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsx mdx */\nimport { Playground, Props } from 'docz';\nimport Img from '.';\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h1 {...{\n      \"id\": \"img图片\"\n    }}>{`Img(图片)`}</h1>\n    <p>{`主要是为了解决图片加载失败 使用备用图片`}</p>\n    <h2 {...{\n      \"id\": \"基本用法basic-usage\"\n    }}>{`基本用法(Basic usage)`}</h2>\n    <Playground __position={0} __code={'<Img\\n  src=\\\"/img.png\\\"\\n  style={{\\n    width: 20,\\n  }}\\n/>'} __scope={{\n      props: this ? this.props : props,\n      Playground,\n      Props,\n      Img\n    }} __codesandbox={`undefined`} mdxType=\"Playground\">\n  <Img src=\"/img.png\" style={{\n        width: 20\n      }} mdxType=\"Img\" />\n    </Playground>\n    <h2 {...{\n      \"id\": \"属性properties\"\n    }}>{`属性(Properties)`}</h2>\n    <Props of={Img} mdxType=\"Props\" />\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;","import React from 'react';\nimport { useEffectState } from '../hooks/index';\n\nexport interface ImgProps {\n  /**\n   * 第一顺位图片\n   */\n  src?: string;\n  /**\n   * 备用图片 默认使用file.svg\n   */\n  backupSrc?: string;\n  alt?: string;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nconst Img: React.FC<ImgProps> = props => {\n  const [src, setSrc] = useEffectState(props.src || props.backupSrc, [\n    props.src,\n  ]);\n  return (\n    <img\n      className={props.className}\n      style={props.style}\n      alt={props.alt}\n      src={src}\n      onError={() => setSrc(props.backupSrc)}\n    />\n  );\n};\nImg.defaultProps = {\n  backupSrc:\n    'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCI+CiAgPHBhdGggZmlsbD0iI0Q5RDlEOSIgZD0iTTUzNCAzNTJWMTM2SDIzMnY3NTJoNTYwVjM5NEg1NzZhNDIgNDIgMCAwIDEtNDItNDJ6Ii8+CiAgPHBhdGggZD0iTTg1NC42IDI4OC42TDYzOS40IDczLjRjLTYtNi0xNC4xLTkuNC0yMi42LTkuNEgxOTJjLTE3LjcgMC0zMiAxNC4zLTMyIDMydjgzMmMwIDE3LjcgMTQuMyAzMiAzMiAzMmg2NDBjMTcuNyAwIDMyLTE0LjMgMzItMzJWMzExLjNjMC04LjUtMy40LTE2LjctOS40LTIyLjd6TTYwMiAxMzcuOEw3OTAuMiAzMjZINjAyVjEzNy44ek03OTIgODg4SDIzMlYxMzZoMzAydjIxNmE0MiA0MiAwIDAgMCA0MiA0MmgyMTZ2NDk0eiIvPgo8L3N2Zz4K',\n};\nexport default Img;\n","import {\n  useState,\n  useEffect,\n  Dispatch,\n  SetStateAction,\n  DependencyList,\n  EffectCallback,\n  useRef,\n} from 'react';\n\nexport function useEffectState<T>(\n  props: T | (() => T),\n  deps?: DependencyList,\n): [T, Dispatch<SetStateAction<T>>] {\n  const [state, setState] = useState(props);\n  useEffect(() => {\n    setState(props);\n  }, deps);\n  return [state, setState];\n}\n\nexport function useEffectExcludeFirst<T>(\n  effect: EffectCallback,\n  deps?: DependencyList,\n): void {\n  const count = useRef(0);\n  return useEffect(() => {\n    if (!count.current) {\n      count.current += 1;\n    } else return effect();\n  }, deps);\n}\n"],"sourceRoot":""}